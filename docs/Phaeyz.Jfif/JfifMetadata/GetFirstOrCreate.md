# JfifMetadata.GetFirstOrCreate&lt;T&gt; method (1 of 2)

Gets the first segment of the specified type in the JFIF metadata, or creates a new one if it does not exist.

```csharp
public T GetFirstOrCreate<T>(bool repositionExistingSegment, 
    IEnumerable<SegmentKey> precedingSegmentKeys)
    where T : Segment, new()
```

| parameter | description |
| --- | --- |
| T | The type of segment to get or create. |
| repositionExistingSegment | If `true` and the segment already exists, it will be repositioned according to the *precedingSegmentKeys* array. If `false`, the existing segment will not be repositioned. A start-of-scan segment is always implied to be in this array. |
| precedingSegmentKeys | When creating or repositioning, ensures the segment is placed after the last segment matching any of the specified keys. |

## Return Value

A segment which was found or created of the requested type.

## Exceptions

| exception | condition |
| --- | --- |
| [JfifException](../JfifException.md) | A segment was found, but the class type did not match the expected type. |

## See Also

* struct [SegmentKey](../SegmentKey.md)
* class [Segment](../Segment.md)
* class [JfifMetadata](../JfifMetadata.md)
* namespace [Phaeyz.Jfif](../../Phaeyz.Jfif.md)

---

# JfifMetadata.GetFirstOrCreate&lt;T&gt; method (2 of 2)

Gets the first segment of the specified type in the JFIF metadata, or creates a new one if it does not exist.

```csharp
public T GetFirstOrCreate<T>(bool repositionExistingSegment, out bool created, out int index, 
    IEnumerable<SegmentKey> precedingSegmentKeys)
    where T : Segment, new()
```

| parameter | description |
| --- | --- |
| T | The type of segment to get or create. |
| repositionExistingSegment | If `true` and the segment already exists, it will be repositioned according to the *precedingSegmentKeys* array. If `false`, the existing segment will not be repositioned. A start-of-scan segment is always implied to be in this array. |
| created | Receives a boolean indicating whether or not the returned segment was created during this call because it was not found. |
| index | Receives the index of the returned segment. |
| precedingSegmentKeys | When creating or repositioning, ensures the segment is placed after the last segment matching any of the specified keys. If no keys are specified, the segment will be placed at the beginning. |

## Return Value

A segment which was found or created of the requested type.

## Exceptions

| exception | condition |
| --- | --- |
| [JfifException](../JfifException.md) | A segment was found, but the class type did not match the expected type. |

## See Also

* struct [SegmentKey](../SegmentKey.md)
* class [Segment](../Segment.md)
* class [JfifMetadata](../JfifMetadata.md)
* namespace [Phaeyz.Jfif](../../Phaeyz.Jfif.md)

<!-- DO NOT EDIT: generated by xmldocmd for Phaeyz.Jfif.dll -->
